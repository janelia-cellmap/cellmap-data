
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>cellmap_data.CellMapDataset &#8212; CellMap-Data</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=a3416100" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=e645c8fa"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'cellmap_data.CellMapDataset';</script>
    <link rel="icon" href="https://raw.githubusercontent.com/janelia-cellmap/cellmap-data/main/docs/source/_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="https://raw.githubusercontent.com/janelia-cellmap/cellmap-data/main/docs/source/_static/CellMapLogo.png" class="logo__image only-light" alt="CellMap-Data - Home"/>
    <script>document.write(`<img src="https://raw.githubusercontent.com/janelia-cellmap/cellmap-data/main/docs/source/_static/CellMapLogo.png" class="logo__image only-dark" alt="CellMap-Data - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="index.html">
                    CellMap-Data: the Docs
                </a>
            </li>
        </ul>
        
    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/cellmap_data.CellMapDataset.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>cellmap_data.CellMapDataset</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset"><code class="docutils literal notranslate"><span class="pre">CellMapDataset</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.__init__"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.__init__()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.center"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.center</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.largest_voxel_sizes"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.largest_voxel_sizes</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.bounding_box"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.bounding_box</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.bounding_box_shape"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.bounding_box_shape</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.sampling_box"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.sampling_box</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.sampling_box_shape"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.sampling_box_shape</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.size"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.size</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.class_counts"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.class_counts</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.class_weights"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.class_weights</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.validation_indices"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.validation_indices</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.device"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.device</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.__len__"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.__len__()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.__getitem__"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.__getitem__()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.get_empty_store"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.get_empty_store()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.get_target_array"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.get_target_array()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.get_label_array"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.get_label_array()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.verify"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.verify()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.get_indices"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.get_indices()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.to"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.to()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.generate_spatial_transforms"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.generate_spatial_transforms()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.set_raw_value_transforms"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.set_raw_value_transforms()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.set_target_value_transforms"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.set_target_value_transforms()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.reset_arrays"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.reset_arrays()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.empty"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.empty()</span></code></a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="cellmap-data-cellmapdataset">
<h1>cellmap_data.CellMapDataset<a class="headerlink" href="#cellmap-data-cellmapdataset" title="Link to this heading">#</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="cellmap_data.CellMapDataset">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cellmap_data.</span></span><span class="sig-name descname"><span class="pre">CellMapDataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">raw_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">classes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_arrays</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_arrays</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spatial_transforms</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Mapping</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raw_value_transforms</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_value_transforms</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Callable</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Callable</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">class_relation_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_train</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis_order</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'zyx'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Context</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rng</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Generator</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_has_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">empty_value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">nan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cellmap_data/dataset.html#CellMapDataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cellmap_data.CellMapDataset" title="Link to this definition">#</a></dt>
<dd><p>Initializes the CellMapDataset class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>raw_path</strong> (<em>str</em>) – The path to the raw data.</p></li>
<li><p><strong>target_path</strong> (<em>str</em>) – The path to the ground truth data.</p></li>
<li><p><strong>classes</strong> (<em>Sequence</em><em>[</em><em>str</em><em>]</em>) – A list of classes for segmentation training. Class order will be preserved in the output arrays. Classes not contained in the dataset will be filled in with zeros.</p></li>
<li><p><strong>input_arrays</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><em>Mapping</em><em>[</em><em>str</em><em>, </em><em>Sequence</em><em>[</em><em>int</em><em> | </em><em>float</em><em>]</em><em>]</em><em>]</em>) – <p>A dictionary containing the arrays of the dataset to input to the network. The dictionary should have the following structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;array_name&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;shape&quot;</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span>
        <span class="s2">&quot;scale&quot;</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span>
    <span class="p">},</span>
    <span class="o">...</span>
<span class="p">}</span>
</pre></div>
</div>
</p></li>
<li><p><strong>array</strong> (<em>where 'array_name' is the name</em><em> of </em><em>the</em>)</p></li>
<li><p><strong>voxels</strong> (<em>'shape' is the shape</em><em> of </em><em>the array in</em>)</p></li>
<li><p><strong>units.</strong> (<em>and 'scale' is the scale</em><em> of </em><em>the array in world</em>)</p></li>
<li><p><strong>target_arrays</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><em>Mapping</em><em>[</em><em>str</em><em>, </em><em>Sequence</em><em>[</em><em>int</em><em> | </em><em>float</em><em>]</em><em>]</em><em>]</em>) – A dictionary containing the arrays of the dataset to use as targets for the network. The dictionary should have the same structure as ‘input_arrays’.</p></li>
<li><p><strong>spatial_transforms</strong> (<em>Optional</em><em>[</em><em>Mapping</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em><em>] </em><em>= None</em><em>, </em><em>optional</em>) – <p>A sequence of dictionaries containing the spatial transformations to apply to the data. Defaults to None. The dictionary should have the following structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="n">transform_name</span><span class="p">:</span> <span class="p">{</span><span class="n">transform_args</span><span class="p">}}</span>
</pre></div>
</div>
</p></li>
<li><p><strong>raw_value_transforms</strong> (<em>Optional</em><em>[</em><em>Callable</em><em>]</em><em>, </em><em>optional</em>) – A function to apply to the raw data. Defaults to None. Example is to normalize the raw data.</p></li>
<li><p><strong>target_value_transforms</strong> (<em>Optional</em><em>[</em><em>Callable</em><em> | </em><em>Sequence</em><em>[</em><em>Callable</em><em>] </em><em>| </em><em>Mapping</em><em>[</em><em>str</em><em>, </em><em>Callable</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – A function to convert the ground truth data to target arrays. Defaults to None. Example is to convert the ground truth data to a signed distance transform. May be a single function, a list of functions, or a dictionary of functions for each class. In the case of a list of functions, it is assumed that the functions correspond to each class in the classes list in order. If the function is a dictionary, the keys should correspond to the classes in the ‘classes’ list. The function should return a tensor of the same shape as the input tensor. Note that target transforms are applied to the ground truth data and should generally not be used with use of true-negative data inferred using the ‘class_relations_dict’.</p></li>
<li><p><strong>is_train</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether the dataset is for training. Defaults to False.</p></li>
<li><p><strong>context</strong> (<em>Optional</em><em>[</em><em>tensorstore.Context</em><em>]</em><em>, </em><em>optional</em>) – The context for the image data. Defaults to None.</p></li>
<li><p><strong>rng</strong> (<em>Optional</em><em>[</em><em>torch.Generator</em><em>]</em><em>, </em><em>optional</em>) – A random number generator. Defaults to None.</p></li>
<li><p><strong>force_has_data</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to force the dataset to report that it has data. Defaults to False.</p></li>
<li><p><strong>empty_value</strong> (<em>float</em><em> | </em><em>int</em><em>, </em><em>optional</em>) – The value to fill in for empty data. Defaults to torch.nan.</p></li>
<li><p><strong>pad</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to pad the image data to match requested arrays. Defaults to False.</p></li>
<li><p><strong>class_relation_dict</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><em>Sequence</em><em>[</em><em>str</em><em>]</em><em>] </em><em>| </em><em>None</em>)</p></li>
<li><p><strong>axis_order</strong> (<em>str</em>)</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="cellmap_data.CellMapDataset.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">raw_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">classes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_arrays</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_arrays</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spatial_transforms</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Mapping</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raw_value_transforms</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_value_transforms</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Callable</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Callable</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">class_relation_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_train</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis_order</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'zyx'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Context</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rng</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Generator</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_has_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">empty_value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">nan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/cellmap_data/dataset.html#CellMapDataset.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cellmap_data.CellMapDataset.__init__" title="Link to this definition">#</a></dt>
<dd><p>Initializes the CellMapDataset class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>raw_path</strong> (<em>str</em>) – The path to the raw data.</p></li>
<li><p><strong>target_path</strong> (<em>str</em>) – The path to the ground truth data.</p></li>
<li><p><strong>classes</strong> (<em>Sequence</em><em>[</em><em>str</em><em>]</em>) – A list of classes for segmentation training. Class order will be preserved in the output arrays. Classes not contained in the dataset will be filled in with zeros.</p></li>
<li><p><strong>input_arrays</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><em>Mapping</em><em>[</em><em>str</em><em>, </em><em>Sequence</em><em>[</em><em>int</em><em> | </em><em>float</em><em>]</em><em>]</em><em>]</em>) – <p>A dictionary containing the arrays of the dataset to input to the network. The dictionary should have the following structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;array_name&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;shape&quot;</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span>
        <span class="s2">&quot;scale&quot;</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span>
    <span class="p">},</span>
    <span class="o">...</span>
<span class="p">}</span>
</pre></div>
</div>
</p></li>
<li><p><strong>array</strong> (<em>where 'array_name' is the name</em><em> of </em><em>the</em>)</p></li>
<li><p><strong>voxels</strong> (<em>'shape' is the shape</em><em> of </em><em>the array in</em>)</p></li>
<li><p><strong>units.</strong> (<em>and 'scale' is the scale</em><em> of </em><em>the array in world</em>)</p></li>
<li><p><strong>target_arrays</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><em>Mapping</em><em>[</em><em>str</em><em>, </em><em>Sequence</em><em>[</em><em>int</em><em> | </em><em>float</em><em>]</em><em>]</em><em>]</em>) – A dictionary containing the arrays of the dataset to use as targets for the network. The dictionary should have the same structure as ‘input_arrays’.</p></li>
<li><p><strong>spatial_transforms</strong> (<em>Optional</em><em>[</em><em>Mapping</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em><em>] </em><em>= None</em><em>, </em><em>optional</em>) – <p>A sequence of dictionaries containing the spatial transformations to apply to the data. Defaults to None. The dictionary should have the following structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="n">transform_name</span><span class="p">:</span> <span class="p">{</span><span class="n">transform_args</span><span class="p">}}</span>
</pre></div>
</div>
</p></li>
<li><p><strong>raw_value_transforms</strong> (<em>Optional</em><em>[</em><em>Callable</em><em>]</em><em>, </em><em>optional</em>) – A function to apply to the raw data. Defaults to None. Example is to normalize the raw data.</p></li>
<li><p><strong>target_value_transforms</strong> (<em>Optional</em><em>[</em><em>Callable</em><em> | </em><em>Sequence</em><em>[</em><em>Callable</em><em>] </em><em>| </em><em>Mapping</em><em>[</em><em>str</em><em>, </em><em>Callable</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – A function to convert the ground truth data to target arrays. Defaults to None. Example is to convert the ground truth data to a signed distance transform. May be a single function, a list of functions, or a dictionary of functions for each class. In the case of a list of functions, it is assumed that the functions correspond to each class in the classes list in order. If the function is a dictionary, the keys should correspond to the classes in the ‘classes’ list. The function should return a tensor of the same shape as the input tensor. Note that target transforms are applied to the ground truth data and should generally not be used with use of true-negative data inferred using the ‘class_relations_dict’.</p></li>
<li><p><strong>is_train</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether the dataset is for training. Defaults to False.</p></li>
<li><p><strong>context</strong> (<em>Optional</em><em>[</em><em>tensorstore.Context</em><em>]</em><em>, </em><em>optional</em>) – The context for the image data. Defaults to None.</p></li>
<li><p><strong>rng</strong> (<em>Optional</em><em>[</em><em>torch.Generator</em><em>]</em><em>, </em><em>optional</em>) – A random number generator. Defaults to None.</p></li>
<li><p><strong>force_has_data</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to force the dataset to report that it has data. Defaults to False.</p></li>
<li><p><strong>empty_value</strong> (<em>float</em><em> | </em><em>int</em><em>, </em><em>optional</em>) – The value to fill in for empty data. Defaults to torch.nan.</p></li>
<li><p><strong>pad</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to pad the image data to match requested arrays. Defaults to False.</p></li>
<li><p><strong>class_relation_dict</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><em>Sequence</em><em>[</em><em>str</em><em>]</em><em>] </em><em>| </em><em>None</em>)</p></li>
<li><p><strong>axis_order</strong> (<em>str</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Methods</p>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#cellmap_data.CellMapDataset.__init__" title="cellmap_data.CellMapDataset.__init__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">__init__</span></code></a>(raw_path, target_path, classes, ...)</p></td>
<td><p>Initializes the CellMapDataset class.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#cellmap_data.CellMapDataset.empty" title="cellmap_data.CellMapDataset.empty"><code class="xref py py-obj docutils literal notranslate"><span class="pre">empty</span></code></a>()</p></td>
<td><p>Creates an empty dataset.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#cellmap_data.CellMapDataset.generate_spatial_transforms" title="cellmap_data.CellMapDataset.generate_spatial_transforms"><code class="xref py py-obj docutils literal notranslate"><span class="pre">generate_spatial_transforms</span></code></a>()</p></td>
<td><p>When 'self.is_train' is True, generates random spatial transforms for the dataset, based on the user specified transforms.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#cellmap_data.CellMapDataset.get_empty_store" title="cellmap_data.CellMapDataset.get_empty_store"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_empty_store</span></code></a>(array_info, device)</p></td>
<td><p>Returns an empty store, based on the requested array.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#cellmap_data.CellMapDataset.get_indices" title="cellmap_data.CellMapDataset.get_indices"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_indices</span></code></a>(chunk_size)</p></td>
<td><p>Returns the indices of the dataset that will tile the dataset according to the chunk_size.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#cellmap_data.CellMapDataset.get_label_array" title="cellmap_data.CellMapDataset.get_label_array"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_label_array</span></code></a>(label, i, array_info, ...)</p></td>
<td><p>Returns a target array source for a specific class in the dataset.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#cellmap_data.CellMapDataset.get_target_array" title="cellmap_data.CellMapDataset.get_target_array"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_target_array</span></code></a>(array_info)</p></td>
<td><p>Returns a target array source for the dataset.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#cellmap_data.CellMapDataset.reset_arrays" title="cellmap_data.CellMapDataset.reset_arrays"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reset_arrays</span></code></a>([type])</p></td>
<td><p>Sets the arrays for the dataset to return.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#cellmap_data.CellMapDataset.set_raw_value_transforms" title="cellmap_data.CellMapDataset.set_raw_value_transforms"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_raw_value_transforms</span></code></a>(transforms)</p></td>
<td><p>Sets the raw value transforms for the dataset.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#cellmap_data.CellMapDataset.set_target_value_transforms" title="cellmap_data.CellMapDataset.set_target_value_transforms"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_target_value_transforms</span></code></a>(transforms)</p></td>
<td><p>Sets the ground truth value transforms for the dataset.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#cellmap_data.CellMapDataset.to" title="cellmap_data.CellMapDataset.to"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to</span></code></a>(device)</p></td>
<td><p>Sets the device for the dataset.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#cellmap_data.CellMapDataset.verify" title="cellmap_data.CellMapDataset.verify"><code class="xref py py-obj docutils literal notranslate"><span class="pre">verify</span></code></a>()</p></td>
<td><p>Verifies that the dataset is valid to draw samples from.</p></td>
</tr>
</tbody>
</table>
</div>
<p class="rubric">Attributes</p>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#cellmap_data.CellMapDataset.bounding_box" title="cellmap_data.CellMapDataset.bounding_box"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bounding_box</span></code></a></p></td>
<td><p>Returns the bounding box of the dataset.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#cellmap_data.CellMapDataset.bounding_box_shape" title="cellmap_data.CellMapDataset.bounding_box_shape"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bounding_box_shape</span></code></a></p></td>
<td><p>Returns the shape of the bounding box of the dataset in voxels of the largest voxel size requested.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#cellmap_data.CellMapDataset.center" title="cellmap_data.CellMapDataset.center"><code class="xref py py-obj docutils literal notranslate"><span class="pre">center</span></code></a></p></td>
<td><p>Returns the center of the dataset in world units.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#cellmap_data.CellMapDataset.class_counts" title="cellmap_data.CellMapDataset.class_counts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">class_counts</span></code></a></p></td>
<td><p>Returns the number of pixels for each class in the ground truth data, normalized by the resolution.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#cellmap_data.CellMapDataset.class_weights" title="cellmap_data.CellMapDataset.class_weights"><code class="xref py py-obj docutils literal notranslate"><span class="pre">class_weights</span></code></a></p></td>
<td><p>Returns the class weights for the dataset based on the number of samples in each class.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#cellmap_data.CellMapDataset.device" title="cellmap_data.CellMapDataset.device"><code class="xref py py-obj docutils literal notranslate"><span class="pre">device</span></code></a></p></td>
<td><p>Returns the device for the dataset.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#cellmap_data.CellMapDataset.largest_voxel_sizes" title="cellmap_data.CellMapDataset.largest_voxel_sizes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">largest_voxel_sizes</span></code></a></p></td>
<td><p>Returns the largest voxel size of the dataset.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#cellmap_data.CellMapDataset.sampling_box" title="cellmap_data.CellMapDataset.sampling_box"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sampling_box</span></code></a></p></td>
<td><p>Returns the sampling box of the dataset (i.e. where centers can be drawn from and still have full samples drawn from within the bounding box).</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#cellmap_data.CellMapDataset.sampling_box_shape" title="cellmap_data.CellMapDataset.sampling_box_shape"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sampling_box_shape</span></code></a></p></td>
<td><p>Returns the shape of the sampling box of the dataset in voxels of the largest voxel size requested.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#cellmap_data.CellMapDataset.size" title="cellmap_data.CellMapDataset.size"><code class="xref py py-obj docutils literal notranslate"><span class="pre">size</span></code></a></p></td>
<td><p>Returns the size of the dataset in voxels of the largest voxel size requested.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#cellmap_data.CellMapDataset.validation_indices" title="cellmap_data.CellMapDataset.validation_indices"><code class="xref py py-obj docutils literal notranslate"><span class="pre">validation_indices</span></code></a></p></td>
<td><p>Returns the indices of the dataset that will produce non-overlapping tiles for use in validation, based on the largest requested voxel size.</p></td>
</tr>
</tbody>
</table>
</div>
<dl class="py property">
<dt class="sig sig-object py" id="cellmap_data.CellMapDataset.center">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">center</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#cellmap_data.CellMapDataset.center" title="Link to this definition">#</a></dt>
<dd><p>Returns the center of the dataset in world units.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="cellmap_data.CellMapDataset.largest_voxel_sizes">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">largest_voxel_sizes</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#cellmap_data.CellMapDataset.largest_voxel_sizes" title="Link to this definition">#</a></dt>
<dd><p>Returns the largest voxel size of the dataset.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="cellmap_data.CellMapDataset.bounding_box">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">bounding_box</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#cellmap_data.CellMapDataset.bounding_box" title="Link to this definition">#</a></dt>
<dd><p>Returns the bounding box of the dataset.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="cellmap_data.CellMapDataset.bounding_box_shape">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">bounding_box_shape</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#cellmap_data.CellMapDataset.bounding_box_shape" title="Link to this definition">#</a></dt>
<dd><p>Returns the shape of the bounding box of the dataset in voxels of the largest voxel size requested.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="cellmap_data.CellMapDataset.sampling_box">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sampling_box</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#cellmap_data.CellMapDataset.sampling_box" title="Link to this definition">#</a></dt>
<dd><p>Returns the sampling box of the dataset (i.e. where centers can be drawn from and still have full samples drawn from within the bounding box).</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="cellmap_data.CellMapDataset.sampling_box_shape">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sampling_box_shape</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#cellmap_data.CellMapDataset.sampling_box_shape" title="Link to this definition">#</a></dt>
<dd><p>Returns the shape of the sampling box of the dataset in voxels of the largest voxel size requested.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="cellmap_data.CellMapDataset.size">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">size</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#cellmap_data.CellMapDataset.size" title="Link to this definition">#</a></dt>
<dd><p>Returns the size of the dataset in voxels of the largest voxel size requested.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="cellmap_data.CellMapDataset.class_counts">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">class_counts</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#cellmap_data.CellMapDataset.class_counts" title="Link to this definition">#</a></dt>
<dd><p>Returns the number of pixels for each class in the ground truth data, normalized by the resolution.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="cellmap_data.CellMapDataset.class_weights">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">class_weights</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#cellmap_data.CellMapDataset.class_weights" title="Link to this definition">#</a></dt>
<dd><p>Returns the class weights for the dataset based on the number of samples in each class. Classes without any samples will have a weight of NaN.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="cellmap_data.CellMapDataset.validation_indices">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">validation_indices</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#cellmap_data.CellMapDataset.validation_indices" title="Link to this definition">#</a></dt>
<dd><p>Returns the indices of the dataset that will produce non-overlapping tiles for use in validation, based on the largest requested voxel size.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="cellmap_data.CellMapDataset.device">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">device</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">device</span></em><a class="headerlink" href="#cellmap_data.CellMapDataset.device" title="Link to this definition">#</a></dt>
<dd><p>Returns the device for the dataset.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cellmap_data.CellMapDataset.__len__">
<span class="sig-name descname"><span class="pre">__len__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="_modules/cellmap_data/dataset.html#CellMapDataset.__len__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cellmap_data.CellMapDataset.__len__" title="Link to this definition">#</a></dt>
<dd><p>Returns the length of the dataset, determined by the number of coordinates that could be sampled as the center for an array request.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cellmap_data.CellMapDataset.__getitem__">
<span class="sig-name descname"><span class="pre">__getitem__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tensor</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/cellmap_data/dataset.html#CellMapDataset.__getitem__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cellmap_data.CellMapDataset.__getitem__" title="Link to this definition">#</a></dt>
<dd><p>Returns a crop of the input and target data as PyTorch tensors, corresponding to the coordinate of the unwrapped index.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>idx</strong> (<em>int</em>)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict[str, <em>Tensor</em>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cellmap_data.CellMapDataset.get_empty_store">
<span class="sig-name descname"><span class="pre">get_empty_store</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array_info</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">device</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tensor</span></span></span><a class="reference internal" href="_modules/cellmap_data/dataset.html#CellMapDataset.get_empty_store"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cellmap_data.CellMapDataset.get_empty_store" title="Link to this definition">#</a></dt>
<dd><p>Returns an empty store, based on the requested array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>array_info</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><em>Sequence</em><em>[</em><em>int</em><em>]</em><em>]</em>)</p></li>
<li><p><strong>device</strong> (<em>device</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><em>Tensor</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cellmap_data.CellMapDataset.get_target_array">
<span class="sig-name descname"><span class="pre">get_target_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array_info</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="cellmap_data.image.html#cellmap_data.image.CellMapImage" title="cellmap_data.image.CellMapImage"><span class="pre">CellMapImage</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="cellmap_data.image.html#cellmap_data.image.EmptyImage" title="cellmap_data.image.EmptyImage"><span class="pre">EmptyImage</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/cellmap_data/dataset.html#CellMapDataset.get_target_array"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cellmap_data.CellMapDataset.get_target_array" title="Link to this definition">#</a></dt>
<dd><p>Returns a target array source for the dataset. Creates a dictionary of image sources for each class in the dataset. For classes that are not present in the ground truth data, the data can be inferred from the other classes in the dataset. This is useful for training segmentation networks with mutually exclusive classes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>array_info</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><em>Sequence</em><em>[</em><em>int</em><em> | </em><em>float</em><em>]</em><em>]</em>)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict[str, <a class="reference internal" href="cellmap_data.image.html#cellmap_data.image.CellMapImage" title="cellmap_data.image.CellMapImage"><em>CellMapImage</em></a> | <a class="reference internal" href="cellmap_data.image.html#cellmap_data.image.EmptyImage" title="cellmap_data.image.EmptyImage"><em>EmptyImage</em></a> | <em>Sequence</em>[str]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cellmap_data.CellMapDataset.get_label_array">
<span class="sig-name descname"><span class="pre">get_label_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">i</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">array_info</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">empty_store</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tensor</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="cellmap_data.image.html#cellmap_data.image.CellMapImage" title="cellmap_data.image.CellMapImage"><span class="pre">CellMapImage</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="cellmap_data.image.html#cellmap_data.image.EmptyImage" title="cellmap_data.image.EmptyImage"><span class="pre">EmptyImage</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/cellmap_data/dataset.html#CellMapDataset.get_label_array"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cellmap_data.CellMapDataset.get_label_array" title="Link to this definition">#</a></dt>
<dd><p>Returns a target array source for a specific class in the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>label</strong> (<em>str</em>)</p></li>
<li><p><strong>i</strong> (<em>int</em>)</p></li>
<li><p><strong>array_info</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><em>Sequence</em><em>[</em><em>int</em><em> | </em><em>float</em><em>]</em><em>]</em>)</p></li>
<li><p><strong>empty_store</strong> (<em>Tensor</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="cellmap_data.image.html#cellmap_data.image.CellMapImage" title="cellmap_data.image.CellMapImage"><em>CellMapImage</em></a> | <a class="reference internal" href="cellmap_data.image.html#cellmap_data.image.EmptyImage" title="cellmap_data.image.EmptyImage"><em>EmptyImage</em></a> | <em>Sequence</em>[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cellmap_data.CellMapDataset.verify">
<span class="sig-name descname"><span class="pre">verify</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="_modules/cellmap_data/dataset.html#CellMapDataset.verify"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cellmap_data.CellMapDataset.verify" title="Link to this definition">#</a></dt>
<dd><p>Verifies that the dataset is valid to draw samples from.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cellmap_data.CellMapDataset.get_indices">
<span class="sig-name descname"><span class="pre">get_indices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chunk_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/cellmap_data/dataset.html#CellMapDataset.get_indices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cellmap_data.CellMapDataset.get_indices" title="Link to this definition">#</a></dt>
<dd><p>Returns the indices of the dataset that will tile the dataset according to the chunk_size.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>chunk_size</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><em>int</em><em>]</em>)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><em>Sequence</em>[int]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cellmap_data.CellMapDataset.to">
<span class="sig-name descname"><span class="pre">to</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">device</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">device</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="cellmap_data.dataset.html#cellmap_data.dataset.CellMapDataset" title="cellmap_data.dataset.CellMapDataset"><span class="pre">CellMapDataset</span></a></span></span><a class="reference internal" href="_modules/cellmap_data/dataset.html#CellMapDataset.to"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cellmap_data.CellMapDataset.to" title="Link to this definition">#</a></dt>
<dd><p>Sets the device for the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>device</strong> (<em>str</em><em> | </em><em>device</em>)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="cellmap_data.dataset.html#cellmap_data.dataset.CellMapDataset" title="cellmap_data.dataset.CellMapDataset"><em>CellMapDataset</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cellmap_data.CellMapDataset.generate_spatial_transforms">
<span class="sig-name descname"><span class="pre">generate_spatial_transforms</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="_modules/cellmap_data/dataset.html#CellMapDataset.generate_spatial_transforms"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cellmap_data.CellMapDataset.generate_spatial_transforms" title="Link to this definition">#</a></dt>
<dd><p>When ‘self.is_train’ is True, generates random spatial transforms for the dataset, based on the user specified transforms.</p>
<dl class="simple">
<dt>Available spatial transforms:</dt><dd><ul class="simple">
<li><p>“mirror”: Mirrors the data along the specified axes. Parameters are the probabilities of mirroring along each axis, formatted as a dictionary of axis: probability pairs. Example: {“mirror”: {“axes”: {“x”: 0.5, “y”: 0.5, “z”:0.1}}} will mirror the data along the x and y axes with a 50% probability, and along the z axis with a 10% probability.</p></li>
<li><p>“transpose”: Transposes the data along the specified axes. Parameters are the axes to transpose, formatted as a list. Example: {“transpose”: {“axes”: [“x”, “z”]}} will randomly transpose the data along the x and z axes.</p></li>
<li><p>“rotate”: Rotates the data around the specified axes within the specified angle ranges. Parameters are the axes to rotate and the angle ranges, formatted as a dictionary of axis: [min_angle, max_angle] pairs. Example: {“rotate”: {“axes”: {“x”: [-180,180], “y”: [-180,180], “z”:[-180,180]}} will rotate the data around the x, y, and z axes from 180 to -180 degrees.</p></li>
</ul>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>Mapping</em>[str, <em>Any</em>] | None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cellmap_data.CellMapDataset.set_raw_value_transforms">
<span class="sig-name descname"><span class="pre">set_raw_value_transforms</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">transforms</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/cellmap_data/dataset.html#CellMapDataset.set_raw_value_transforms"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cellmap_data.CellMapDataset.set_raw_value_transforms" title="Link to this definition">#</a></dt>
<dd><p>Sets the raw value transforms for the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>transforms</strong> (<em>Callable</em>)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cellmap_data.CellMapDataset.set_target_value_transforms">
<span class="sig-name descname"><span class="pre">set_target_value_transforms</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">transforms</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/cellmap_data/dataset.html#CellMapDataset.set_target_value_transforms"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cellmap_data.CellMapDataset.set_target_value_transforms" title="Link to this definition">#</a></dt>
<dd><p>Sets the ground truth value transforms for the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>transforms</strong> (<em>Callable</em>)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cellmap_data.CellMapDataset.reset_arrays">
<span class="sig-name descname"><span class="pre">reset_arrays</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'target'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/cellmap_data/dataset.html#CellMapDataset.reset_arrays"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cellmap_data.CellMapDataset.reset_arrays" title="Link to this definition">#</a></dt>
<dd><p>Sets the arrays for the dataset to return.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>type</strong> (<em>str</em>)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cellmap_data.CellMapDataset.empty">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">empty</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="cellmap_data.dataset.html#cellmap_data.dataset.CellMapDataset" title="cellmap_data.dataset.CellMapDataset"><span class="pre">CellMapDataset</span></a></span></span><a class="reference internal" href="_modules/cellmap_data/dataset.html#CellMapDataset.empty"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cellmap_data.CellMapDataset.empty" title="Link to this definition">#</a></dt>
<dd><p>Creates an empty dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="cellmap_data.dataset.html#cellmap_data.dataset.CellMapDataset" title="cellmap_data.dataset.CellMapDataset"><em>CellMapDataset</em></a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset"><code class="docutils literal notranslate"><span class="pre">CellMapDataset</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.__init__"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.__init__()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.center"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.center</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.largest_voxel_sizes"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.largest_voxel_sizes</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.bounding_box"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.bounding_box</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.bounding_box_shape"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.bounding_box_shape</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.sampling_box"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.sampling_box</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.sampling_box_shape"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.sampling_box_shape</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.size"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.size</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.class_counts"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.class_counts</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.class_weights"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.class_weights</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.validation_indices"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.validation_indices</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.device"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.device</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.__len__"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.__len__()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.__getitem__"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.__getitem__()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.get_empty_store"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.get_empty_store()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.get_target_array"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.get_target_array()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.get_label_array"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.get_label_array()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.verify"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.verify()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.get_indices"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.get_indices()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.to"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.to()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.generate_spatial_transforms"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.generate_spatial_transforms()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.set_raw_value_transforms"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.set_raw_value_transforms()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.set_target_value_transforms"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.set_target_value_transforms()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.reset_arrays"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.reset_arrays()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cellmap_data.CellMapDataset.empty"><code class="docutils literal notranslate"><span class="pre">CellMapDataset.empty()</span></code></a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Jeff Rhoades
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024, Jeff Rhoades.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>